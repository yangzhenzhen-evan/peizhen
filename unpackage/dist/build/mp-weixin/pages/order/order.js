"use strict";const e=require("../../common/vendor.js"),t=require("../../common/assets.js");if(!Array){(e.resolveComponent("navbar")+e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list")+e.resolveComponent("login"))()}Math||((()=>"../../components/navbar/navbar.js")+(()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-list-item/uni-list-item.js")+(()=>"../../node-modules/@dcloudio/uni-ui/lib/uni-list/uni-list.js")+(()=>"../../components/login/login.js"))();const o={__name:"order",setup(o){let n=e.ref("");n.value=e.index.getStorageSync("token");const a=getApp(),i=e.reactive(["全部","待支付","待服务","已完成","已取消"]);let l=e.ref(0),r=e.ref([]);e.onShow((async()=>{e.index.getStorageSync("token")||loginDialog.value.open("center"),a.globalData.globalIndex&&(l.value=a.globalData.globalIndex),u(l)}));let s="";const u=async t=>{s=0==t?"":t.toString();const o=await a.globalData.apis.getOrderList(s,e.index.getStorageSync("token"));r.value=o.data,c.value=r.value.map(((e,t)=>a.globalData.common.toDate(e.order_start_time)))},c=e.ref([]);return(o,a)=>e.e({a:e.p({title:"我的订单"}),b:e.f(i,((t,o,n)=>({a:e.t(t),b:e.n(e.unref(l)==o?"tabItemon":"tabItem"),c:o,d:e.o((e=>(e=>{l.value=e,u(e)})(o)),o),e:o}))),c:0==e.unref(r).length},0==e.unref(r).length?{d:t._imports_0}:{e:e.f(e.unref(r),((t,o,n)=>e.e({a:t.service_logo_image_url,b:e.t(t.service_name),c:e.t(t.hospital_name),d:e.t(t.area_name),e:e.t(c.value[o]),f:15==t.service_stype},15==t.service_stype?{g:e.t(t.client_name)}:{},{h:e.t(t.trade_state),i:t.out_trade_no,j:"69594b70-2-"+n+",69594b70-1",k:e.p({to:"./detail?oid="+t.out_trade_no}),l:o})))},{f:e.p({token:e.unref(n)})})}},n=e._export_sfc(o,[["__scopeId","data-v-69594b70"]]);wx.createPage(n);
